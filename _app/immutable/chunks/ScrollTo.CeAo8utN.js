import{g as u}from"./scheduler.Bx16WTOf.js";import{w}from"./index.Chm98CgP.js";function P(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function d(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}const p=w([]),v=w({offset:0,duration:500,passive:!0,easing:d,onStart:()=>{},onDone:()=>{}}),h=u(v),E=()=>h,L=e=>e.replace(/[^A-Z0-9]/gi,"").toLowerCase(),y=(e,t)=>{const n=e.filter(s=>s.reference===t);return n.length?n[0].node:null},x=e=>({y:e.offsetTop,x:e.offsetLeft}),l=(e,t,n,s,o)=>n>s?t:e+(t-e)*o(n/s),b=async(e,t)=>new Promise(n=>{const{start:s,end:o,duration:i,easing:a}=e,f=Date.now();let c=()=>{const r=Date.now()-f,m=l(s.x,o.x,r,i,a),g=l(s.y,o.y,r,i,a);if(t({x:m,y:g}),r>i)return n();window.requestAnimationFrame(c)};window.addEventListener("wheel",function r(){c=()=>{},window.removeEventListener("wheel",r)}),window.requestAnimationFrame(c)}),O=async(e,t)=>{const{duration:n,easing:s,offset:o}=t,i=window.pageYOffset,a=window.pageXOffset,f=e.x+o,c=e.y+o;await b({start:{x:a,y:i},end:{x:f,y:c},duration:n,easing:s},r=>{window.scroll(r.x,r.y)})},A=u(p),T=async(e,t)=>{t.passive||e.preventDefault();const{ref:n,onDone:s,onStart:o}=t,i=t.duration,a=t.offset,f=t.easing,c=y(A,n);if(!c)throw new Error(`Element reference '${n}' not found`);const r=x(c);o&&o({element:c,offset:a,duration:i,endPosition:r}),await O(r,{duration:i,offset:a,easing:f}),s&&s({element:c,offset:a,duration:i,endPosition:r})},X=(e,t)=>{if(!t)throw new Error("scrollTo require a options");let n=Object.assign({ref:""},E());if(typeof t=="string"?n.ref=t:n=Object.assign(n,t),n.ref=L(n.ref),!n.ref)throw new Error("scrollTo require a reference");e instanceof HTMLAnchorElement&&(e.href=`#${n.ref}`),e instanceof HTMLAnchorElement||(e.style.cursor="pointer");const s=o=>T(o,n);return e.addEventListener("click",s,{passive:n.passive}),e.addEventListener("touchstart",s,{passive:n.passive}),{destroy(){e.removeEventListener("click",s),e.removeEventListener("touchstart",s)}}};export{P as a,X as b,p as e,L as s};
